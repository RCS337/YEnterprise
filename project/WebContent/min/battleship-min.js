$(document).ready(function(){"use strict";function a(a){var t;switch(a){case 0:$("#cruiser").addClass("shot");break;case 1:$("#destroyer").addClass("shot");break;case 2:$("#battleship").addClass("shot");break;default:t="ship"}n++}function t(a,t){var s=!0;return $.each(a,function(a,e){var o=e;(o>=100||0>o)&&(s=!1),$.each(t,function(a,t){t===o&&(s=!1)})}),s}function s(){for(var a=2;5>a;){var s=[],e=Math.floor(2*Math.random()),n=0===e?1:10,c=Math.floor(100*Math.random());s.push(c);for(var h=1;a>=h;h++)s.push(c+h*n);if(!(1===n&&s[0]%10>s[s.length-1]%10)&&t(s,r)===!0){o.push(s);for(var i=0;i<s.length;i++)r.push(s[i]);a++}}}function e(){var t=s(),e,r,c=[],h=0,i=!1,u,l=[];n=0,console.log(o),$("td").each(function(){$(this).removeClass("hit miss"),$(this).data("status","clean")}),$.each(o,function(a,t){console.log(t)}),$("td").on("click",function(){if(i===!1){if(r=$(this),e=r.data("target"),h++,u=!1,"shot"!==r.data("status")){r.data("status","shot");for(var s=0;s<t.length;s++)if(e===t[s]){c.push(t[s]),t.splice(s,1),u=!0;break}switch($.each(o,function(t){var s=t,n=this;$.each(o[t],function(t,o){e===o&&(l.push(o),n.splice(t,1),0===n.length&&a(s))})}),u){case!0:r.addClass("hit");break;case!1:r.addClass("miss")}}3===n?(i=!0,alert("You Sunk All My Ships!")):30===h&&(i=!0,alert("You're Out of Turns. You Lose. The Enemy Escaped!"))}})}var o=[],n=0,r=[];$("#restart").on("click",function(){e()}),e()});